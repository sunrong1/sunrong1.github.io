import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as e,o as t}from"./app-DMyZ4-xI.js";const n={};function l(r,i){return t(),a("div",null,i[0]||(i[0]=[e(`<h1 id="微服务架构基础和ddd实践" tabindex="-1"><a class="header-anchor" href="#微服务架构基础和ddd实践"><span>微服务架构基础和DDD实践</span></a></h1><h2 id="微服务架构的特点" tabindex="-1"><a class="header-anchor" href="#微服务架构的特点"><span>微服务架构的特点</span></a></h2><h2 id="当前架构问题" tabindex="-1"><a class="header-anchor" href="#当前架构问题"><span>当前架构问题</span></a></h2><p>当前开发团队有8个人，当前维护的服务比较多，请帮我对团队当前的服务进行重构，给出架构调整图、思路方法和步骤：</p><p>Hero后端主要是以Java开发Spring Boot项目，通过Spring Cloud实现微服务。HERO目前后端微服务主要由下面的12个服务和一个hero-base包组成，另外还有一个HEROTai测试服务端执行器、HEROAgent客户端执行服务、环境运维服务、红线资源管理服务：</p><p><strong>开发和维护指数 ★☆☆</strong></p><ul><li>Config-Server：配置中心，多环境配置化管理；</li><li>Eureka：服务注册中心；（维护指数 ★☆☆）</li><li>Gateway：网关转发，过滤，权限存储校验；（维护指数 ★☆☆）</li><li>OldGateway：网关转发，过滤，权限存储校验；（维护指数 ★☆☆）</li><li>Tmss：TMSS服务；（维护指数 ★☆☆）</li><li>Dataanalyzer：硬件趋势分析；（维护指数 ★☆☆）</li><li>环境运维服务</li><li>红线资源管理服务</li></ul><p>开发和维护指数 ★★☆</p><ul><li>Criterionservice：判据管理；</li><li>Analysis：云图，前端质量分析，模块交付全景，测试数据看板；</li><li>Logging：日志服务，agent日志，判据日志，小工具日志；</li><li>Smalltools：测试小工具集合，测试执行；</li><li>Uttest：UT测试，告警测试，白盒测试，经验库用例；</li><li>Testcasegenerate：用例生成，测试策略，测试设计，项目空间，自定义用例生成；</li><li>Usercenter：用户中心，角色，路由，需求反馈，wiki经验库；</li></ul><p>开发和维护指数 ★★★</p><ul><li>HEROTai服务端执行器</li><li>HEROAgent客户端执行服务</li><li>Uttest/SmallTools：UT测试，告警测试，白盒测试、FIT测试，经验库用例；测试小工具集合</li></ul><h2 id="升级方案" tabindex="-1"><a class="header-anchor" href="#升级方案"><span>升级方案</span></a></h2><ol><li>构建DDD领域模型</li><li>构建微服务架构</li><li>构建API文档平台</li><li>构建API监控平台</li><li>参考Richardson成熟度模型，实现Level 2级成熟度</li></ol><h3 id="" tabindex="-1"><a class="header-anchor" href="#"><span></span></a></h3><p>一、服务划分优化：从“物理拆分”到“领域驱动”<br> 这是微服务稳定后的首要优化点，目标是让服务边界更清晰、内聚性更强、依赖更合理。<br> 当前状态分析与痛点<br> 问题：初期按“测试设计、执行、分析”等动词维度划分，随着业务复杂，可能出现：“测试用例”数据结构在多个服务中被修改，或“测试报告”生成逻辑散落在各处。<br> 优化目标：转向围绕 “领域实体”（名词） 划分，实现更高内聚。例如，所有与 “测试用例” 相关的创建、检索、版本管理都应归属于同一个服务</p><h3 id="api演进-参考richardson成熟度模型" tabindex="-1"><a class="header-anchor" href="#api演进-参考richardson成熟度模型"><span>API演进：参考Richardson成熟度模型</span></a></h3><p>这个模型能清晰地指导团队API设计水平的阶梯式提升，非常适合在分享中作为方法论提出。</p><p>模型解读（与你的架构结合）</p><p>Level 0 - RPC沼泽：所有请求都涌向一个单一端点（如 /api），通过参数区分操作。（应避免）<br> Level 1 - 资源：开始拆分不同的资源端点。（你的现状）<br> 例如：GET /test-cases, POST /execution-tasks<br> Level 2 - HTTP动词：充分利用 HTTP 协议语义。（当前优化重点）<br> 统一规范：GET（查询）, POST（创建）, PUT（全量更新）, PATCH（部分更新）, DELETE（删除）。<br> Level 3 - 超媒体控制（HATEOAS）：API响应中不仅包含数据，还包含下一步可能的操作链接。（未来方向）</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;id&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">123</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;name&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;性能测试用例&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;status&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;PASSED&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;_links&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    &quot;self&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">&quot;href&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;/test-cases/123&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> },</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    &quot;rerun&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">&quot;href&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;/execution-tasks&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">&quot;method&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;POST&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 客户端可据此知道如何“重新运行”此用例</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>善用HTTP状态码：200 OK, 201 Created, 400 Bad Request, 404 Not Found, 429 Too Many Requests（用于限流）。</p><h2 id="参考资料-工具" tabindex="-1"><a class="header-anchor" href="#参考资料-工具"><span>参考资料/工具</span></a></h2><ol><li><a href="https://www.cnblogs.com/xiao98733417/p/15292611.html" target="_blank" rel="noopener noreferrer">微服务架构基础</a></li><li>deepseek</li></ol>`,23)]))}const o=s(n,[["render",l]]),d=JSON.parse('{"path":"/dev/java/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84%E5%9F%BA%E7%A1%80.html","title":"微服务架构基础和DDD实践","lang":"zh-CN","frontmatter":{"icon":"pen-to-square","date":"2026-01-23T13:30:00.000Z","category":["架构"],"tag":["架构基础"],"description":"微服务架构基础和DDD实践 微服务架构的特点 当前架构问题 当前开发团队有8个人，当前维护的服务比较多，请帮我对团队当前的服务进行重构，给出架构调整图、思路方法和步骤： Hero后端主要是以Java开发Spring Boot项目，通过Spring Cloud实现微服务。HERO目前后端微服务主要由下面的12个服务和一个hero-base包组成，另外还有...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"微服务架构基础和DDD实践\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2026-01-23T13:30:00.000Z\\",\\"dateModified\\":\\"2026-01-24T05:01:35.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mr.Sun\\",\\"url\\":\\"https://sunrong.site\\"}]}"],["meta",{"property":"og:url","content":"https://sunrong1.github.io/dev/java/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84%E5%9F%BA%E7%A1%80.html"}],["meta",{"property":"og:site_name","content":"TestingFun"}],["meta",{"property":"og:title","content":"微服务架构基础和DDD实践"}],["meta",{"property":"og:description","content":"微服务架构基础和DDD实践 微服务架构的特点 当前架构问题 当前开发团队有8个人，当前维护的服务比较多，请帮我对团队当前的服务进行重构，给出架构调整图、思路方法和步骤： Hero后端主要是以Java开发Spring Boot项目，通过Spring Cloud实现微服务。HERO目前后端微服务主要由下面的12个服务和一个hero-base包组成，另外还有..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2026-01-24T05:01:35.000Z"}],["meta",{"property":"article:tag","content":"架构基础"}],["meta",{"property":"article:published_time","content":"2026-01-23T13:30:00.000Z"}],["meta",{"property":"article:modified_time","content":"2026-01-24T05:01:35.000Z"}]]},"git":{"createdTime":1769230895000,"updatedTime":1769230895000,"contributors":[{"name":"Dave","username":"Dave","email":"sunrong1990@126.com","commits":1,"url":"https://github.com/Dave"}]},"readingTime":{"minutes":3.18,"words":954},"filePathRelative":"dev/java/微服务架构基础.md","excerpt":"\\n<h2>微服务架构的特点</h2>\\n<h2>当前架构问题</h2>\\n<p>当前开发团队有8个人，当前维护的服务比较多，请帮我对团队当前的服务进行重构，给出架构调整图、思路方法和步骤：</p>\\n<p>Hero后端主要是以Java开发Spring Boot项目，通过Spring Cloud实现微服务。HERO目前后端微服务主要由下面的12个服务和一个hero-base包组成，另外还有一个HEROTai测试服务端执行器、HEROAgent客户端执行服务、环境运维服务、红线资源管理服务：</p>\\n<p><strong>开发和维护指数 ★☆☆</strong></p>\\n<ul>\\n<li>Config-Server：配置中心，多环境配置化管理；</li>\\n<li>Eureka：服务注册中心；（维护指数 ★☆☆）</li>\\n<li>Gateway：网关转发，过滤，权限存储校验；（维护指数 ★☆☆）</li>\\n<li>OldGateway：网关转发，过滤，权限存储校验；（维护指数 ★☆☆）</li>\\n<li>Tmss：TMSS服务；（维护指数 ★☆☆）</li>\\n<li>Dataanalyzer：硬件趋势分析；（维护指数 ★☆☆）</li>\\n<li>环境运维服务</li>\\n<li>红线资源管理服务</li>\\n</ul>","autoDesc":true}');export{o as comp,d as data};
